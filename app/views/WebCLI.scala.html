<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
	<title>CIC-Web Command Line</title>

	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />


	<!-- CSS, Icon -->
 	<link type="text/css" rel="stylesheet" href="@routes.Assets.at("stylesheets/main.css")">
    <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/it.png")">

    <!-- jQuery -->
    <script type="text/javascript" src="@routes.Assets.at("javascripts/jquery-1.7.1.min.js")"></script>

    <!-- Rangy  -->
    <script type="text/javascript" src="@routes.Assets.at("javascripts/rangy-1.2.3/rangy-core.js")"></script>
	<script type="text/javascript" src="@routes.Assets.at("javascripts/rangy-1.2.3/rangy-selectionsaverestore.js")"></script>

	<!-- Caret Position 
	<script type="text/javascript" src="@routes.Assets.at("javascripts/cursor.js")"></script>-->
	<!-- HTML-Replacement -->
	<script type="text/javascript">
	var posInCLI = 0;
	</script>
	<script type="text/javascript" src="@routes.Assets.at("javascripts/html-replacement.js")"></script>

	<!-- javaScriptRoutes -->
	<script type="text/javascript" src='@routes.Application.javascriptRoutes()'>
	</script>

	<script type="text/javascript">

		function applyCompl(key) {
			var select = document.getElementById("completions");
			var keyCode = key?key.which:event.key.keyCode;
			if (keyCode == 13) {
				var index = select.options[select.selectedIndex].text.indexOf("]");
				if(index != -1){
					var cliText = $('#cli').text()
					cliText = cliText.replace(/\s/g,'');
					cliText = cliText + select.options[select.selectedIndex].text.substring(index+3);
					$('#cli').text(cliText);

				}
			}
			setCurser("cli", $('#cli').text().length);
		}

	</script>


  
   
</head>
<body>
<center>
	<h1> CIC - Web-Command Line </h1>

	<br /> <br /> 
	<span style="font-size: 20px; font-weight: bold;">Go knock yourself out...</span>  <br /> <br /> 

	<!-- <div id="cli" contenteditable="true" onkeyup="cliKeyUp($('#cli'), event);"> -->
	
	<div contenteditable="true"  id="cli" onkeyup="cliKeyUp($('#cli'), event);">
	</div>


	<br />
	<br />
	<br />
	<table id="table">
		<tr>
			<td style="padding-right:35px" >Highlighted</td>
			<td><div id="highlighted"></div></td>
		</tr>
		<tr>
			<td style="padding-right:35px">Result</td>
			<td><div id="result"></div></td>
		</tr>
		<tr>
			<td style="padding-right:35px">Errors</td>
			<td><div id="errors"></div></td>
		</tr>
	</table>

	<br /> 	<br />

	<select width="60" name="completions" id="completions" multiple="multiple" onkeydown="applyCompl(event)"></select>
	<br /> 	<br />

</center>

</body>
</html>
